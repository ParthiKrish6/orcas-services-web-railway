(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"+6BZ":function(e,r,t){"use strict";t.r(r),t.d(r,"UploadScoreCardModule",(function(){return b}));var o=t("ofXK"),s=t("tyNb"),c=t("tk/3"),n=t("AytR"),i=t("fXoL");let a=(()=>{class e{constructor(e){this.http=e,this.baseUrl=n.a.apiUrl+"/api/v1/upload-scorecard"}uploadScoreCard(e){return this.headers=new c.c({Authorization:"Bearer "+localStorage.getItem("authToken")}),this.http.post(""+this.baseUrl,e,{headers:this.headers})}}return e.\u0275fac=function(r){return new(r||e)(i.dc(c.a))},e.\u0275prov=i.Lb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var l=t("JqCM");function d(e,r){1&e&&(i.Vb(0,"div",5),i.Lc(1," PDF uploaded successfully! "),i.Ub())}function p(e,r){if(1&e&&(i.Vb(0,"div",6),i.Lc(1),i.Ub()),2&e){const e=i.lc();i.Bb(1),i.Nc(" Error uploading PDF: ",e.errorMessage," ")}}const u=[{path:"",component:(()=>{class e{constructor(e,r,t,o){this.http=e,this.uploadScoreCardService=r,this.spinnerService=t,this.router=o,this.selectedFile=null,this.uploadSuccess=!1,this.uploadError=!1,this.errorMessage=""}ngOnInit(){}onFileSelected(e){const r=e.target;r.files&&r.files.length>0&&(this.selectedFile=r.files[0],this.uploadSuccess=!1,this.uploadError=!1)}uploadFile(){if(this.spinnerService.show(),this.selectedFile){const e=new FormData;e.append("file",this.selectedFile,this.selectedFile.name),this.uploadScoreCardService.uploadScoreCard(e).subscribe(e=>{console.log(e),this.uploadSuccess=!0,this.uploadError=!1,this.selectedFile=null,this.spinnerService.hide()},e=>{console.log(e),this.uploadError=!0,this.errorMessage=e.error?e.error.message:e.message||"An unknown error occurred during upload.",this.uploadSuccess=!1,this.spinnerService.hide()})}}}return e.\u0275fac=function(r){return new(r||e)(i.Pb(c.a),i.Pb(a),i.Pb(l.c),i.Pb(s.c))},e.\u0275cmp=i.Jb({type:e,selectors:[["app-upload-scorecard"]],decls:8,vars:2,consts:[["enctype","multipart/form-data","type","file","accept","application/pdf",3,"change"],[3,"click"],["class","success message",4,"ngIf"],["class","error message",4,"ngIf"],["type","timer"],[1,"success","message"],[1,"error","message"]],template:function(e,r){1&e&&(i.Vb(0,"h2"),i.Lc(1,"Upload Scorecard"),i.Ub(),i.Vb(2,"input",0),i.hc("change",(function(e){return r.onFileSelected(e)})),i.Ub(),i.Vb(3,"button",1),i.hc("click",(function(){return r.uploadFile()})),i.Lc(4,"Upload PDF"),i.Ub(),i.Jc(5,d,2,0,"div",2),i.Jc(6,p,2,1,"div",3),i.Qb(7,"ngx-spinner",4)),2&e&&(i.Bb(5),i.rc("ngIf",r.uploadSuccess),i.Bb(1),i.rc("ngIf",r.uploadError))},directives:[o.m,l.a],styles:['.message[_ngcontent-%COMP%]{padding:15px;margin-bottom:20px;border-radius:4px;font-family:Arial,sans-serif;font-size:16px;line-height:1.5}.success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;border:1px solid #c3e6cb}.error[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border:1px solid #f5c6cb}.message[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{margin-right:8px;font-weight:700}.success[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2713"}.error[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:before{content:"\u2717"}']}),e})()}];let h=(()=>{class e{}return e.\u0275mod=i.Nb({type:e}),e.\u0275inj=i.Mb({factory:function(r){return new(r||e)},imports:[[s.f.forChild(u)],s.f]}),e})();const f=[o.c,h,l.b];let b=(()=>{class e{}return e.\u0275mod=i.Nb({type:e}),e.\u0275inj=i.Mb({factory:function(r){return new(r||e)},imports:[f,o.c,h,l.b]}),e})()}}]);